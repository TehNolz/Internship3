# Leerdoel 2 - Deployment

Tijdens het zoeken naar informatie voor mijn 1ste- en 2dejaars projecten kwam ik regelmatig informatie tegen over het uitrollen van (nieuwe en bestaande) systemen. Zo kwam ik bijvoorbeeld de termen _Continuous Deployment_ en _Continuous Integration_ (CI/CD) tegen, wat refereert naar systemen die volledig automatisch andere systemen kunnen klaarmaken voor gebruik. Omdat ik meer wilde weten over hoe systemen worden uitgerolt binnen een organisatie, heb ik besloten om hier een leerdoel van te maken. Dit ook omdat ik verwacht later tijdens mijn werk regelmatig dit soort processen te moeten doorlopen.

## Werkwijze

Ik ben met dit leerdoel begonnen door te onderzoeken of ik een _CI/CD pipeline_ of ander deployment process kon opzetten voor deze website. Al vrij snel kwam ik [GitHub Actions](https://github.com/features/actions) tegen; een onderdeel van GitHub waarmee ontwikkelaars gemakkelijk een _CI/CD pipeline_ konden opzetten om zo hun applicaties automatisch te _builden_, testen, en uit te rollen. Op basis van dit de [GitHub Actions documentatie](https://docs.github.com/en/free-pro-team@latest/actions), en [informatie van het internet](https://swimburger.net/blog/dotnet/how-to-deploy-aspnet-blazor-webassembly-to-github-pages) een nieuwe pipeline op te zetten voor deze website. Een beschrijving van deze pipeline is hieronder te vinden als Bewijsmateriaal 1.

Ranshuijsen gebruikt echter een geheel ander process om hun applicaties uit te rollen. Zij hebben hiervoor zelf een tool ontwikkeld, genaamd _RvlBuildToolkit_.
==TODO Uitzoeken hoe deze tool werkt==

## Bewijsmateriaal 1 - GitHub Actions

Met de kennis die ik tijdens mijn stage heb verzameld, is het mij gelukt om een _CI/CD pipeline_ voor deze website op te zetten met behulp van [GitHub Actions](https://github.com/features/actions).

Elke keer als ik een deel van de text of code aanpas, dan wordt er automatisch een script uitgevoerd die mijn website update naar de laatste versie. Dit script is [hier te vinden](https://github.com/TehNolz/Portfolio/blob/master/.github/workflows/update.yml)

Het script werkt als volgt;

* De Git repository waar de broncode van de website in staat wordt gedownload,
* .NET 5 wordt klaargemaakt voor gebruik,
* Alle _unit tests_ (zie [Leerdoel 5 - Testen](Content/Stage3/Leerdoelen/5)) worden uitgevoerd. Mocht er een test mislukken, dan zal de update direct worden gestopt.
* De website wordt genereerd. Alle bestanden worden door .NET 5 klaargemaakt zodat een browser ze zou kunnen laden.
* De _base tag_ wordt aangepast, zodat alle pagina links binnen in de website correct zullen functioneren.
* Een fix wordt toegepast zodat 404-foutpaginas worden doorgestuurd naar de hoofdpagina van mijn website, zodat Blazor deze fouten zelf kan afhandelen in plaats van dat GitHub dit doet.
* Een fix wordt toegepast die een conflict met Jekyll oplost. Jekyll is een systeem dat Markdown en andere bestanden kan omzetten naar statische websites, en zit ingebouwd in [GitHub Pages](https://pages.github.com/). Dit zorgt er echter voor dat Blazor niet meer werk. In deze stap wordt Jekyll uitgeschakeld, waardoor Blazor weer naar behoren werkt.
* De website wordt gepubliceerd naar GitHub pages. Dit wordt gedaan doormiddel van [github-pages-deploy-action](https://github.com/JamesIves/github-pages-deploy-action).

Na het uitvoeren van dit scriptbestand, is de website geheel up-to-date. Mocht in 1 van de stappen een fout optreden, dan krijg ik automatisch een bericht van GitHub die mij hierover inlicht.

Door dit script te schrijven heb ik een goed beeld gekregen van hoe een _CI/CD pipeline_ ongeveer werkt. Deze kennis kan ik later ook weer hergebruiken tijdens mijn werk of voor mijn hobbyprojecten.

## Bewijsmateriaal 2 - Deploymentproces van Ranshuijsen

## Feedback bedrijfsbegeleider/collega
==TODO feedback==

## Reflectie
==TODO reflectie==
